# üîî ‡∏£‡∏∞‡∏ö‡∏ö Notification ‡πÅ‡∏•‡∏∞ WebSocket

‡∏£‡∏∞‡∏ö‡∏ö notification ‡πÅ‡∏ö‡∏ö real-time ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ WebSocket ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô EnglishKorat ‡∏ó‡∏µ‡πà‡∏°‡∏µ UI ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢

## ‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å

### üöÄ Real-time Notifications
- ‚úÖ WebSocket connection ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö real-time
- ‚úÖ Toast notifications ‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡∏Ç‡∏ì‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà
- ‚úÖ ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô notification ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡πà‡∏≤‡∏ô
- ‚úÖ ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ WebSocket

### üé® UI Components ‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°
- ‚úÖ NotificationBell - ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô header ‡∏û‡∏£‡πâ‡∏≠‡∏° badge
- ‚úÖ NotificationDropdown - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ notification ‡πÅ‡∏ö‡∏ö dropdown
- ‚úÖ Notification List Page - ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á notification ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- ‚úÖ Demo Page - ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

### üîß ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
- ‚úÖ Context API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ state
- ‚úÖ ‡∏Å‡∏≤‡∏£ mark as read/unread
- ‚úÖ ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- ‚úÖ ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ notification
- ‚úÖ Pagination ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö notification ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô

```
src/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ websocket.service.ts          # WebSocket service
‚îú‚îÄ‚îÄ contexts/
‚îÇ   ‚îî‚îÄ‚îÄ NotificationContext.tsx       # Context ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ state
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ notifications/
‚îÇ       ‚îú‚îÄ‚îÄ NotificationBell.tsx      # ‡∏õ‡∏∏‡πà‡∏° notification ‡πÉ‡∏ô header
‚îÇ       ‚îú‚îÄ‚îÄ NotificationDropdown.tsx  # Dropdown list
‚îÇ       ‚îî‚îÄ‚îÄ index.ts                  # Export file
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ notification.ts               # Types ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß
‚îî‚îÄ‚îÄ app/
    ‚îú‚îÄ‚îÄ notifications/
    ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                  # ‡∏´‡∏ô‡πâ‡∏≤ notification ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    ‚îî‚îÄ‚îÄ demo-notifications/
        ‚îî‚îÄ‚îÄ page.tsx                  # ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
```

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. Dependencies ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
```bash
npm install socket.io-client react-hot-toast
```

### 2. Environment Variables
```bash
# .env.local
NEXT_PUBLIC_WS_URL=ws://localhost:3000
```

### 3. ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

#### ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ
```tsx
import { useNotifications } from '@/contexts/NotificationContext';

const MyComponent = () => {
  const { notifications, unreadCount, markAsRead } = useNotifications();
  // ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
};
```

#### ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á notification ‡πÅ‡∏ö‡∏ö manual (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
```tsx
import { webSocketService } from '@/services/websocket.service';

// ‡∏™‡πà‡∏á notification
webSocketService.send('demo-notification', {
  notification: mockNotification,
  isRealTime: true,
});
```

## üéØ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

### ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö
```
http://localhost:3001/demo-notifications
```

### ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ
1. **‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á notification ‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ**
   - ‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà
   - ‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
   - ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
   - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
   - ‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏ö‡∏ö

2. **‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏∞‡∏ö‡∏ö**
   - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (info)
   - ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (warning)
   - ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î (error)

3. **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á UI**
   - Toast notification ‡∏Ç‡∏ì‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
   - ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö unread count
   - ‡∏Å‡∏≤‡∏£ mark as read
   - ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

## üîó API Format ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö

### GET /api/notifications
```json
{
  "notifications": [
    {
      "id": 2,
      "created_at": "2025-09-11T16:28:24.129+07:00",
      "updated_at": "2025-09-11T16:28:24.129+07:00",
      "user_id": 3,
      "title": "New IELTS Course Available",
      "title_th": "‡∏Ñ‡∏≠‡∏£‡πå‡∏™ IELTS ‡πÉ‡∏´‡∏°‡πà‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß",
      "message": "We have a new IELTS preparation course...",
      "message_th": "‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏™‡∏≠‡∏ö IELTS ‡πÉ‡∏´‡∏°‡πà...",
      "type": "info",
      "read": false,
      "user": {
        "id": 3,
        "first_name_en": "alice",
        "first_name_th": "‡∏≠‡∏•‡∏¥‡∏ã",
        "last_name_en": "wilson",
        "last_name_th": "‡∏ß‡∏¥‡∏•‡∏™‡∏±‡∏ô"
      },
      "branch": {
        "id": 1,
        "name_en": "Branch 1 The Mall Branch",
        "name_th": "‡∏™‡∏≤‡∏Ç‡∏≤ 1 ‡πÄ‡∏î‡∏≠‡∏∞‡∏°‡∏≠‡∏•‡∏•‡πå‡πÇ‡∏Ñ‡∏£‡∏≤‡∏ä"
      },
      "sender": {
        "type": "system",
        "name": "Notification Service"
      },
      "recipient": {
        "type": "user",
        "id": 3
      }
    }
  ],
  "pagination": {
    "limit": 10,
    "page": 1,
    "total": 1
  }
}
```

## üé® ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á UI

### ‡∏™‡∏µ notification ‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
```tsx
const colors = {
  info: { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-800' },
  warning: { bg: 'bg-yellow-50', border: 'border-yellow-200', text: 'text-yellow-800' },
  error: { bg: 'bg-red-50', border: 'border-red-200', text: 'text-red-800' },
  // ...
};
```

### Icon ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
```tsx
const icons = {
  info: 'üì¢',
  student_registration: 'üë®‚Äçüéì',
  class_confirmation: '‚úÖ',
  payment_reminder: 'üí∞',
  // ...
};
```

## üîß ‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö

### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó notification ‡πÉ‡∏´‡∏°‡πà
1. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `NotificationType` ‡πÉ‡∏ô `types/notification.ts`
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° icon ‡πÅ‡∏•‡∏∞‡∏™‡∏µ‡πÉ‡∏ô notification components
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° demo template ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö backend
1. ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà demo WebSocket events ‡∏î‡πâ‡∏ß‡∏¢ real server events
2. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï API endpoints ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö backend
3. ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ authentication ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö WebSocket connection

## üêõ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### WebSocket ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `NEXT_PUBLIC_WS_URL` ‡πÉ‡∏ô `.env.local`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ WebSocket server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà
- ‡∏î‡∏π‡πÉ‡∏ô browser console ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö error messages

### Notification ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `NotificationProvider` wrap app ‡πÅ‡∏•‡πâ‡∏ß
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö user authentication status
- ‡∏î‡∏π network tab ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API calls

## üì± ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠

‡∏£‡∏∞‡∏ö‡∏ö‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ responsive ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏ö‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠:
- Mobile-friendly dropdown
- Touch-friendly buttons
- Responsive layout
- Optimized animations

## üöÄ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö notification ‡πÅ‡∏ö‡∏ö real-time ‡∏û‡∏£‡πâ‡∏≠‡∏° WebSocket  
‚úÖ UI components ‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢  
‚úÖ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ state ‡∏î‡πâ‡∏ß‡∏¢ Context API  
‚úÖ ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö  
‚úÖ ‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö API format ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î  
‚úÖ ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ notification  
‚úÖ Mobile responsive design  
‚úÖ Error handling ‡πÅ‡∏•‡∏∞ loading states  

‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö backend WebSocket server ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!
